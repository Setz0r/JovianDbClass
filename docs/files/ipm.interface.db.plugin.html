<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IPM DB API Documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><link type="text/css" rel="stylesheet" href="../syntax_highlighter/styles/shCoreDefault.css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script><script type="text/javascript" src="../syntax_highlighter/scripts/shCore.js"></script><script type="text/javascript" src="../syntax_highlighter/scripts/shBrushJScript.js"></script><script type="text/javascript">SyntaxHighlighter.all();</script></head><body><div id="content"><h1 class="file" style="display:none">ipm.interface.db.plugin.php</h1><div id="file-nav-box"><div id="file-nav-options" style="display:none">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\aIPM_db_plugin">\aIPM_db_plugin</a></li></ul></li></ul><div style="clear: left;"></div></div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">IPM Database Class</div><div class="long-description"><p>Database Class Subsystem</p></div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:aaron.snyder@hki.com">Aaron Snyder</a>
         
    </dd><dt>Date</dt><dd>2013-01-24
         
    </dd><dt>Package</dt><dd>IPM\Core\System\Database
         
    </dd><dt>Revision</dt><dd>460921
         
    </dd><dt>Version</dt><dd>1.8.x
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\aIPM_db_plugin" class="anchor"></a><h2 class="class">\aIPM_db_plugin<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>IPM\Core\System\Database</small><div class="short-description">IPM Database Plugin Abtraction</div><div class="long-description"></div><dl class="class-info"><dt>Children</dt><dd><a href="../files/ipm.class.db.plugin.mysql.html#\IPM_db_plugin_mysql">\IPM_db_plugin_mysql</a></dd><dd><a href="../files/ipm.class.db.plugin.sqlsrv.html#\IPM_db_plugin_sqlsrv">\IPM_db_plugin_sqlsrv</a></dd></dl><a name="anchor-class-properties"></a><h3>Properties</h3><div><a id="\aIPM_db_plugin::$affected_rows" class="anchor"></a><a name="prop-anchor-$affected_rows" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$affected_rows</span> = 0</code><div class="description"><div class="short-description">The number of rows affected by the last update query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$conn" class="anchor"></a><a name="prop-anchor-$conn" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">$conn</span></code><div class="description"><div class="short-description">Database connection identifier</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd><dt>Type</dt><dd>resource
         
    </dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$database" class="anchor"></a><a name="prop-anchor-$database" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>string <span class="highlight">$database</span></code><div class="description"><div class="short-description">The currently selected database name</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$dbsel" class="anchor"></a><a name="prop-anchor-$dbsel" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>bool <span class="highlight">$dbsel</span> = false</code><div class="description"><div class="short-description">True if a database has been selected</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$defaults" class="anchor"></a><a name="prop-anchor-$defaults" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>object <span class="highlight">$defaults</span></code><div class="description"><div class="short-description">Table defaults for creating new database tables</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>object</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$errno" class="anchor"></a><a name="prop-anchor-$errno" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$errno</span> = 0</code><div class="description"><div class="short-description"><p>Error number returned from latest query</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$error" class="anchor"></a><a name="prop-anchor-$error" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>String <span class="highlight">$error</span> = ""</code><div class="description"><div class="short-description">Error string returned form latest query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>""</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>String</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$extensionLoaded" class="anchor"></a><a name="prop-anchor-$extensionLoaded" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>bool <span class="highlight">$extensionLoaded</span> = false</code><div class="description"><div class="short-description">True if the database PHP extension is loaded</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$fieldTypes" class="anchor"></a><a name="prop-anchor-$fieldTypes" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">$fieldTypes</span> = array("NUMERIC" =&gt; array("TINYINT", "SMALLINT", "MEDIUMINT", "INT", "BIGINT", "DECIMAL", "FLOAT", "DOUBLE", "REAL", "BIT", "BOOLEAN", "SERIAL"), "DATETIME" =&gt; array("DATE", "DATETIME", "TIMESTAMP", "TIME", "YEAR"), "STRING" =&gt; array("CHAR", "VARCHAR", "TINYTEXT", "TEXT", "MEDIUMTEXT", "LONGTEXT", "BINARY", "VARBINARY", "TINYBLOB", "MEDIUMBLOB", "BLOB", "LONGBLOB", "ENUM", "SET"), "SPATIAL" =&gt; array("GEOMETRY", "POINT", "LINESTRING", "POLYGON", "MULTIPOINT", "MULTILINESTRING", "MULTIPOLYGON", "GEOMETRYCOLLECTION"))</code><div class="description"><div class="short-description">List of field types for creating database tables.</div></div><div class="code-tabs"><div class="long-description"><p>This is used to make
sure that only valid field types are allowed to be created</p></div><strong>Default value</strong><code>array("NUMERIC" =&gt; array("TINYINT", "SMALLINT", "MEDIUMINT", "INT", "BIGINT", "DECIMAL", "FLOAT", "DOUBLE", "REAL", "BIT", "BOOLEAN", "SERIAL"), "DATETIME" =&gt; array("DATE", "DATETIME", "TIMESTAMP", "TIME", "YEAR"), "STRING" =&gt; array("CHAR", "VARCHAR", "TINYTEXT", "TEXT", "MEDIUMTEXT", "LONGTEXT", "BINARY", "VARBINARY", "TINYBLOB", "MEDIUMBLOB", "BLOB", "LONGBLOB", "ENUM", "SET"), "SPATIAL" =&gt; array("GEOMETRY", "POINT", "LINESTRING", "POLYGON", "MULTIPOINT", "MULTILINESTRING", "MULTIPOLYGON", "GEOMETRYCOLLECTION"))</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd><dt>Type</dt><dd>array
         
    </dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$insert_id" class="anchor"></a><a name="prop-anchor-$insert_id" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$insert_id</span> = 0</code><div class="description"><div class="short-description">The auto incremeted ID generated by the last insert query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$lastQuery" class="anchor"></a><a name="prop-anchor-$lastQuery" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>object <span class="highlight">$lastQuery</span></code><div class="description"><div class="short-description">The last query executed</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>object</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$num_rows" class="anchor"></a><a name="prop-anchor-$num_rows" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>integer <span class="highlight">$num_rows</span> = 0</code><div class="description"><div class="short-description">The row count of the last select statement</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>integer</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$password" class="anchor"></a><a name="prop-anchor-$password" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$password</span></code><div class="description"><div class="short-description">Database password</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$pluginid" class="anchor"></a><a name="prop-anchor-$pluginid" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$pluginid</span> = "mysql"</code><div class="description"><div class="short-description">Plugin Identification</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>"mysql"</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$prefix" class="anchor"></a><a name="prop-anchor-$prefix" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$prefix</span> = array("system" =&gt; "system", "content" =&gt; "content", "modules" =&gt; "modules", "default" =&gt; "content")</code><div class="description"><div class="short-description">Prefix types or roles for creating database tables</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array("system" =&gt; "system", "content" =&gt; "content", "modules" =&gt; "modules", "default" =&gt; "content")</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$queue" class="anchor"></a><a name="prop-anchor-$queue" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>Array <span class="highlight">$queue</span> = array()</code><div class="description"><div class="short-description">Array to hold the query queue</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Array</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$server" class="anchor"></a><a name="prop-anchor-$server" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$server</span></code><div class="description"><div class="short-description">Database Host Name</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$sqlresult" class="anchor"></a><a name="prop-anchor-$sqlresult" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>resource <span class="highlight">$sqlresult</span></code><div class="description"><div class="short-description">Results from the last SQL statement</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>resource</dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::$username" class="anchor"></a><a name="prop-anchor-$username" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$username</span></code><div class="description"><div class="short-description">Database user name</div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div></div><a name="anchor-class-methods"></a><h3>Methods</h3><div><a id="\aIPM_db_plugin::__construct()" class="anchor"></a><a name="method-anchor-__construct" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">( $conn = false)</span> : void</code><div class="description"><p class="short_description">Constructor - sets default connection if it exists and initializes defaults</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$conn</th><td></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Constructor</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\aIPM_db_plugin::getType()" class="anchor"></a><a name="method-anchor-getType" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getType</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Returns the plugin identifier</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>Plugin ID</td></tr></table></div><div class="clear"></div></div><a id="\aIPM_db_plugin::getdb()" class="anchor"></a><a name="method-anchor-getdb" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getdb</span><span class="nb-faded-text">()</span> : String</code><div class="description"><p class="short_description">Returns the name of the current active database</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>Database name, false if a database is not selected</td></tr></table></div><div class="clear"></div></div></div></div><a name="interfaces" class="anchor"></a><a id="\iIPM_db_plugin" class="anchor"></a><h2 class="interface">\iIPM_db_plugin<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>IPM\Core\System\Database</small><div class="short-description">IPM Database Plugin Interface</div><div class="long-description"></div><dl class="class-info"></dl><a name="anchor-class-methods"></a><h3>Methods</h3><div><a id="\iIPM_db_plugin::close()" class="anchor"></a><a name="method-anchor-close" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">close</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Closes the current database connection</p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\iIPM_db_plugin::connected()" class="anchor"></a><a name="method-anchor-connected" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">connected</span><span class="nb-faded-text">()</span> : Boolean</code><div class="description"><p class="short_description">Returns current connection status</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True if connected</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::create()" class="anchor"></a><a name="method-anchor-create" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">create</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><p class="short_description">Create a table in the database by generating a safe query using provided
parameter array</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>An array of table configuration to build the query.
The following are valid</p>

<ul>
<li><b>role</b> The type of table or role the table in the table will have
(system, content, modules), used in the naming of the table</li>
<li><b>primarykey</b> field to use as the primary key</li>
<li><b>fields</b> An array of field descriptions, each index should be an
array withhave the following:<ul>
<li><b>name</b> name of the field</li>
<li><b>type</b> valid database field type</li>
<li><b>length</b> the length of the field</li>
<li><b>null</b> (bool) is null</li>
<li><b>default</b> default value of the field</li>
<li><b>charset</b> character set</li>
<li><b>collate</b> collation</li>
<li><b>auto</b> auto increment field</li>
</ul>
</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td></td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::delete()" class="anchor"></a><a name="method-anchor-delete" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">delete</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><p class="short_description">Delete a set of records from the database by generating a safe query using
provided parameter array</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>where</b> An array of table fields/value pairs to use as the where clause</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The amount of affected rows or the compiled query.</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::getDefaults()" class="anchor"></a><a name="method-anchor-getDefaults" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getDefaults</span><span class="nb-faded-text">( $varname = "")</span> : mixed</code><div class="description"><p class="short_description">Returns the default table creatoin values as an object</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$varname</th><td></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Requested value or default value object</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Params</dt><dd>string $option (Optional) Returns the value for the specified option,
if empty will return all default values
         
    </dd></dl></div><div class="clear"></div></div><a id="\iIPM_db_plugin::insert()" class="anchor"></a><a name="method-anchor-insert" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">insert</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><p class="short_description">Insert a record into the database by generating a safe query using provided
parameter array</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> (Optional) An array of table fields/value pairs to update the record with, defaults to "*"</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The ID of the insert statement if the table has an auto
incremeted field or the compiled query.</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::open()" class="anchor"></a><a name="method-anchor-open" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">open</span><span class="nb-faded-text">(String $user, String $pass, String $host, String $database = "")</span> : Boolean</code><div class="description"><p class="short_description">Opens/creates a connection to the database</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$user</th><td>String</td><td><em><p>User name</p></em></td></tr><tr><th>$pass</th><td>String</td><td><em><p>Password</p></em></td></tr><tr><th>$host</th><td>String</td><td><em><p>Server host name/IP</p>
</em></td></tr><tr><th>$database</th><td>String</td><td><em><p>(Optional) Database</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True is connection created</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::query()" class="anchor"></a><a name="method-anchor-query" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">query</span><span class="nb-faded-text">(String $query)</span> : mixed</code><div class="description"><p class="short_description">Submits an SQL statement to the database</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$query</th><td>String</td><td><em><p>Query to execute</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Array of the result set or the return of a passed callback</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::real_escape_string()" class="anchor"></a><a name="method-anchor-real_escape_string" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">real_escape_string</span><span class="nb-faded-text">(String $var)</span> : String</code><div class="description"><p class="short_description">Escapes the variable to make it safe to use in a query</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td>String</td><td><em><p>The variable to escape</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>The escaped string</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::reset()" class="anchor"></a><a name="method-anchor-reset" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">reset</span><span class="nb-faded-text">(Integer $pointer = 0)</span> : mixed</code><div class="description"><p class="short_description">Resets the pointer in the MySQL result set</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$pointer</th><td>Integer</td><td><em><p>(Optional) Position in the result set to reset to, defaults to 0</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>True on success, MySQL error number on failure</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::result()" class="anchor"></a><a name="method-anchor-result" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">result</span><span class="nb-faded-text">(Integer $row, mixed $field = 0)</span> : mixed</code><div class="description"><p class="short_description">Returns the current result set for the last successfully run sql statement</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$row</th><td>Integer</td><td><em><p>Row to move the pointer to</p></em></td></tr><tr><th>$field</th><td>mixed</td><td><em><p>(Optional) Field to get the data from, defaults to 0 or the first field</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Contents of specified field or false on failure</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Todo</dt><dd>Move the commented <i>result</i> function the mysqli plugin
         
    </dd></dl></div><div class="clear"></div></div><a id="\iIPM_db_plugin::results()" class="anchor"></a><a name="method-anchor-results" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">results</span><span class="nb-faded-text">(string $type = "array")</span> : mixed</code><div class="description"><p class="short_description">Returns the results of the last successfully executed SQL statement</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$type</th><td>string</td><td><em><p>(Optional) Type of results to return (array or resource),
defaults to array</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>MySQL result resource</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::select()" class="anchor"></a><a name="method-anchor-select" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">select</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><p class="short_description">Select records from the database by generating a safe query using provided
parameter array</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> (Optional) An array of table fields/value pairs to update the record with, defaults to "*"</li>
<li><b>where</b> (Optional) An array of table fields/value pairs to use as the where clause</li>
<li><b>options</b> (Optional) An array with various options for the query.  As follows<ul>
<li><b>order</b> The field to order by or an array containing the <u>fields</u> and <u>dir</u>ection to sort</li>
<li><b>limit</b> The number of records to query or an array containing the <u>start</u> and <u>length</u></li>
<li><b>group</b> The field to group by</li>
</ul></li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The result array from the executed query or the compiled query</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::setDefaults()" class="anchor"></a><a name="method-anchor-setDefaults" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setDefaults</span><span class="nb-faded-text">(mixed $defaults)</span> : void</code><div class="description"><p class="short_description">Sets the default table creation values</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$defaults</th><td>mixed</td><td><em><p>Defaults object, could also be an array</p></em></td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::setdb()" class="anchor"></a><a name="method-anchor-setdb" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setdb</span><span class="nb-faded-text">(String $db)</span> : Boolean</code><div class="description"><p class="short_description">Sets the current database as active</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$db</th><td>String</td><td><em><p>Database name</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True on success</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::setvar()" class="anchor"></a><a name="method-anchor-setvar" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setvar</span><span class="nb-faded-text">( $variable, String $value)</span> : Boolean</code><div class="description"><p class="short_description">Sets session variables for current database connection</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$variable</th><td></td><td><em></em></td></tr><tr><th>$value</th><td>String</td><td><em><p>Value to assign to the session variable</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True on success</td></tr></table></div><div class="clear"></div></div><a id="\iIPM_db_plugin::update()" class="anchor"></a><a name="method-anchor-update" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">update</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><p class="short_description">Update a record in the database by generating a safe query using provided
parameter array</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> An array of table fields/value pairs to update the record with, defaults to "*"</li>
<li><b>where</b> (Optional) An array of table fields/value pairs to use as the where clause</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The amount of affected rows or the compiled query.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer"></small></body></html>
