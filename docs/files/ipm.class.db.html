<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IPM DB API Documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><link type="text/css" rel="stylesheet" href="../syntax_highlighter/styles/shCoreDefault.css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script><script type="text/javascript" src="../syntax_highlighter/scripts/shCore.js"></script><script type="text/javascript" src="../syntax_highlighter/scripts/shBrushJScript.js"></script><script type="text/javascript">SyntaxHighlighter.all();</script></head><body><div id="content"><h1 class="file" style="display:none">ipm.class.db.php</h1><div id="file-nav-box"><div id="file-nav-options" style="display:none">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#constants"><img src="../images/icons/constant.png" height="14"></img>
                          Constants
                      </a><ul><li><a href="#::$engine">$engine</a></li></ul></li><li><a href="#functions"><img src="../images/icons/function.png" alt="Function" height="14"></img>
                          Functions
                      </a><ul></ul></li><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\IPM_db">\IPM_db</a></li></ul></li></ul><div style="clear: left;"></div></div></div><a name="top" class="anchor"></a><a name="constants" class="anchor"></a><h2>Constants</h2><div><a id="::$engine" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">$engine</span>
                = $this-&gt;getdb() . "." . $tablename</code><div class="description"></div><div class="code-tabs"></div><div class="clear"></div></div></div><a name="classes" class="anchor"></a><a id="\IPM_db" class="anchor"></a><h2 class="class">\IPM_db<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>IPM\Core\System\Database</small><div class="short-description">IPM Master Database Class</div><div class="long-description"><p>Note: this is an abstraction and cannot be created directly</p></div><dl class="class-info"><dt>Parent(s)</dt><dd><a href="../files/ipm.class.db.engine.html#\IPM_db_engine">\IPM_db_engine</a>
            &lt;
            <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine" style="color: gray; font-size: 0.8em
                ">\aIPM_db_engine</a></dd></dl><a name="anchor-class-properties"></a><h3>Properties</h3><div><a id="\IPM_db::$affected_rows" class="anchor"></a><a name="prop-anchor-$affected_rows" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$affected_rows</span> = 0</code><div class="description"><div class="short-description">The number of rows affected by the last update query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$autoCreateIntervalHours" class="anchor"></a><a name="prop-anchor-$autoCreateIntervalHours" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>int <span class="highlight">$autoCreateIntervalHours</span> = 1</code><div class="description"><div class="short-description">The number of hours until the table structure cache file is automatcially
recreated.</div></div><div class="code-tabs"><div class="long-description"><p>The time is based on the file timestamp.</p></div><strong>Default value</strong><code>1</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>int</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$autoCreateStructure" class="anchor"></a><a name="prop-anchor-$autoCreateStructure" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>bool <span class="highlight">$autoCreateStructure</span> = true</code><div class="description"><div class="short-description">Flag to automatically create the table structure cache file.</div></div><div class="code-tabs"><div class="long-description"><p>If on,
the table structure cache file will be created at the registered interval</p></div><strong>Default value</strong><code>true</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$conn" class="anchor"></a><a name="prop-anchor-$conn" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>resource <span class="highlight">$conn</span></code><div class="description"><div class="short-description">Database connection identifier</div></div><div class="code-tabs"><div class="long-description"><p>The class, table engines spawned from
this class, and plugin all share the same connection resource which is
opened through the plugin.</p></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>resource</dd><dt>Type</dt><dd>resource
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$dbTables" class="anchor"></a><a name="prop-anchor-$dbTables" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$dbTables</span> = array()</code><div class="description"><div class="short-description">Table details array.</div></div><div class="code-tabs"><div class="long-description"><p>This array is populated from a cache file and is
required for table registration.</p></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$defaultPlugin" class="anchor"></a><a name="prop-anchor-$defaultPlugin" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$defaultPlugin</span> = "mysql"</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Name of the default database plugin, use if no plugin type is specified
durring class instnatianation</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$defaultPlugin">\aIPM_db_engine::$$defaultPlugin</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$defaultPlugin">\IPM_db_engine::$$defaultPlugin</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>"mysql"</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$defaultPlugin">\aIPM_db_engine::$$defaultPlugin</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$defaultPlugin">\IPM_db_engine::$$defaultPlugin</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$errno" class="anchor"></a><a name="prop-anchor-$errno" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$errno</span> = 0</code><div class="description"><div class="short-description"><p>Error number returned from latest query</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$error" class="anchor"></a><a name="prop-anchor-$error" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>String <span class="highlight">$error</span> = ""</code><div class="description"><div class="short-description">Error string returned form latest query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>""</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>String</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$ex" class="anchor"></a><a name="prop-anchor-$ex" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$ex</span> = array()</code><div class="description"><div class="short-description">An array that keeps track of query locations in the query history</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$history" class="anchor"></a><a name="prop-anchor-$history" class="anchor"></a><div class="property public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>array <span class="highlight">$history</span> = array()</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Holds a history of all queries processed by this engine</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$history">\aIPM_db_engine::$$history</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$history">\IPM_db_engine::$$history</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$history">\aIPM_db_engine::$$history</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$history">\IPM_db_engine::$$history</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$insert_id" class="anchor"></a><a name="prop-anchor-$insert_id" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$insert_id</span> = 0</code><div class="description"><div class="short-description">The auto incremeted ID generated by the last insert query</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$lastid" class="anchor"></a><a name="prop-anchor-$lastid" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>Integer <span class="highlight">$lastid</span> = 0</code><div class="description"><div class="short-description">Alias of <i>$insert_id</i>, deprecated use <i>$insert_id</i> instead</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Integer</dd><dt>Deprecated</dt><dd>use <i>$insert_id</i> instead
         
    </dd><dt>Legacy</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$num_rows" class="anchor"></a><a name="prop-anchor-$num_rows" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img>integer <span class="highlight">$num_rows</span> = 0</code><div class="description"><div class="short-description">The row count of the last select statement</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>integer</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$plugin" class="anchor"></a><a name="prop-anchor-$plugin" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\IPM_db_plugin <span class="highlight">$plugin</span> = false</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Database plugin that will peform the actual database communication</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$plugin">\aIPM_db_engine::$$plugin</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$plugin">\IPM_db_engine::$$plugin</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>\IPM_db_plugin</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$plugin">\aIPM_db_engine::$$plugin</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$plugin">\IPM_db_engine::$$plugin</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$pluginType" class="anchor"></a><a name="prop-anchor-$pluginType" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$pluginType</span> = false</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Name of database plugin to use</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$pluginType">\aIPM_db_engine::$$pluginType</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$pluginType">\IPM_db_engine::$$pluginType</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$pluginType">\aIPM_db_engine::$$pluginType</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$pluginType">\IPM_db_engine::$$pluginType</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$queue" class="anchor"></a><a name="prop-anchor-$queue" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>Array <span class="highlight">$queue</span> = array()</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Array to hold the query queue</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$queue">\IPM_db_engine::$$queue</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>Array</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$queue">\IPM_db_engine::$$queue</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$regDbConfig" class="anchor"></a><a name="prop-anchor-$regDbConfig" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$regDbConfig</span> = array("value" =&gt; "value", "table" =&gt; TABLE_CONFIG, "id" =&gt; array("field" =&gt; "varname", "value" =&gt; "DB_REGISTRATION"))</code><div class="description"><div class="short-description">Registration database configration array, used when the file does not exist.</div></div><div class="code-tabs"><div class="long-description"><p>Will always attempt to load the database when the file is missing or
<i>$regUsing</i> is set to database.</p></div><strong>Default value</strong><code>array("value" =&gt; "value", "table" =&gt; TABLE_CONFIG, "id" =&gt; array("field" =&gt; "varname", "value" =&gt; "DB_REGISTRATION"))</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$regUsing" class="anchor"></a><a name="prop-anchor-$regUsing" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\type <span class="highlight">$regUsing</span> = "file"</code><div class="description"><div class="short-description">Determines if the registration should use the <i>database</i> or <i>file</i>,
defaults to <i>file</i>.</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>"file"</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>\type</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$registerArray" class="anchor"></a><a name="prop-anchor-$registerArray" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$registerArray</span> = array()</code><div class="description"><div class="short-description">Table registration array</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$registrationFile" class="anchor"></a><a name="prop-anchor-$registrationFile" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$registrationFile</span> = "ipm.class.db.registration.cfg"</code><div class="description"><div class="short-description">The filename for the table registration information</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>"ipm.class.db.registration.cfg"</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$saveHistory" class="anchor"></a><a name="prop-anchor-$saveHistory" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>bool <span class="highlight">$saveHistory</span> = false</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Sets the ability to save to the query history after every execution</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$saveHistory">\aIPM_db_engine::$$saveHistory</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$saveHistory">\IPM_db_engine::$$saveHistory</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$saveHistory">\aIPM_db_engine::$$saveHistory</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$saveHistory">\IPM_db_engine::$$saveHistory</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$tableConfig" class="anchor"></a><a name="prop-anchor-$tableConfig" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>object <span class="highlight">$tableConfig</span> = false</code><div class="description"><span class="attribute">inherited</span><div class="short-description">Possible table configuration, used if this class is instantiated as a
table engine</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::$$tableConfig">\aIPM_db_engine::$$tableConfig</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$tableConfig">\IPM_db_engine::$$tableConfig</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>object</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.basic.html#\aIPM_db_engine::$$tableConfig">\aIPM_db_engine::$$tableConfig</a>
         
    </dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$tableConfig">\IPM_db_engine::$$tableConfig</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$tableStructureCacheFile" class="anchor"></a><a name="prop-anchor-$tableStructureCacheFile" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\stirng <span class="highlight">$tableStructureCacheFile</span> = "ipm.class.db.tables.cfg"</code><div class="description"><div class="short-description">The filename for the table structure cache file</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>"ipm.class.db.tables.cfg"</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>\stirng</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$tbEngines" class="anchor"></a><a name="prop-anchor-$tbEngines" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$tbEngines</span> = array()</code><div class="description"><div class="short-description">Table engine list array</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\IPM_db::$templates" class="anchor"></a><a name="prop-anchor-$templates" class="anchor"></a><div class="property protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$templates</span> = array()</code><div class="description"><span class="attribute">inherited</span><div class="short-description">An array of query templates</div><small class="inherited_from">Inherited from:
                        <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::$$templates">\IPM_db_engine::$$templates</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd><dt>Inherited_from</dt><dd><a href="../files/
                         ipm.class.db.engine.html#\IPM_db_engine::$$templates">\IPM_db_engine::$$templates</a>
         
    </dd></dl></div><div class="clear"></div></div></div><a name="anchor-class-methods"></a><h3>Methods</h3><div><a id="\IPM_db::IS_SET()" class="anchor"></a><a name="method-anchor-IS_SET" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">IS_SET</span><span class="nb-faded-text">( $flag,  $bit)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$flag</th><td></td><td><em></em></td></tr><tr><th>$bit</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::REMOVE_BIT()" class="anchor"></a><a name="method-anchor-REMOVE_BIT" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">REMOVE_BIT</span><span class="nb-faded-text">( $var,  $bit)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td></td><td><em></em></td></tr><tr><th>$bit</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::SET_BIT()" class="anchor"></a><a name="method-anchor-SET_BIT" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">SET_BIT</span><span class="nb-faded-text">( $var,  $bit)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td></td><td><em></em></td></tr><tr><th>$bit</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::TOGGLE_BIT()" class="anchor"></a><a name="method-anchor-TOGGLE_BIT" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">TOGGLE_BIT</span><span class="nb-faded-text">( $var,  $bit)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td></td><td><em></em></td></tr><tr><th>$bit</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::__construct()" class="anchor"></a><a name="method-anchor-__construct" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(mixed $params = false, resource $conn = false)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Constructor - automatically loads the database plugin and opens a
connection to the database if the server connections settings are set in
the constructor config parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::__construct()">\aIPM_db_engine::__construct()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::__construct()">\IPM_db_engine::__construct()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>mixed</td><td><em><p>The database plugin to load or an array containing
the plugin and connection settings</p></em></td></tr><tr><th>$conn</th><td>resource</td><td><em><p>The connection can be passed through the engine to
the plugin when this class is instantiated as a table engine in order to
share the same connection as the parent class</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Constructor</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::__get()" class="anchor"></a><a name="method-anchor-__get" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__get</span><span class="nb-faded-text">( $name)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::addQuery()" class="anchor"></a><a name="method-anchor-addQuery" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">addQuery</span><span class="nb-faded-text">(String $query, Array $tokens = false, <a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a> $callback = false)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Adds a query to the query queue
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::addQuery()">\IPM_db_engine::addQuery()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$query</th><td>String</td><td><em><p>The query to add to the queue</p></em></td></tr><tr><th>$tokens</th><td>Array</td><td><em><p>(Optional) An array of name/value pairs used to compile the query or template</p>
</em></td></tr><tr><th>$callback</th><td><a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a></td><td><em><p>Function to execute once data has been returned, not fully implimented</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::addTemplate()" class="anchor"></a><a name="method-anchor-addTemplate" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">addTemplate</span><span class="nb-faded-text">(String $name, String $query, <a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a> $callback = false)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Adds a query template.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::addTemplate()">\IPM_db_engine::addTemplate()</a></small></div><div class="code-tabs"><div class="long-description"><p>Query templates can be defined using "tokens" that will be replaced
with field/value pairs durring query execution.  Templates can also be defined with a default
callback to be executed on the result object.<br><br>
Note: Not permitted on table engine instances</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>String</td><td><em><p>Query template identifier, used in templates object hash</p></em></td></tr><tr><th>$query</th><td>String</td><td><em><p>The query template</p></em></td></tr><tr><th>$callback</th><td><a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a></td><td><em><p>Function to execute once data has been returned</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::affected_rows()" class="anchor"></a><a name="method-anchor-affected_rows" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">affected_rows</span><span class="nb-faded-text">()</span> : int</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the number of rows affected for the last run update statement</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::affected_rows()">\aIPM_db_engine::affected_rows()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::affected_rows()">\IPM_db_engine::affected_rows()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The count</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::clearQueue()" class="anchor"></a><a name="method-anchor-clearQueue" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">clearQueue</span><span class="nb-faded-text">()</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Clears the active queue
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::clearQueue()">\IPM_db_engine::clearQueue()</a></small></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\IPM_db::close()" class="anchor"></a><a name="method-anchor-close" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">close</span><span class="nb-faded-text">()</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Closes the current database connection
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::close()">\IPM_db_engine::close()</a></small></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\IPM_db::compileQuery()" class="anchor"></a><a name="method-anchor-compileQuery" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">compileQuery</span><span class="nb-faded-text">(String $query, Array $tokens)</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Compiles a query with the values in the tokens object
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::compileQuery()">\IPM_db_engine::compileQuery()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$query</th><td>String</td><td><em><p>Query to compile</p></em></td></tr><tr><th>$tokens</th><td>Array</td><td><em><p>Values to replace the tokens with</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>The compiled query</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::compileTemplate()" class="anchor"></a><a name="method-anchor-compileTemplate" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">compileTemplate</span><span class="nb-faded-text">(String $name, \{Object} $tokens)</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Compiles a query template with the values in the tokens object
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::compileTemplate()">\IPM_db_engine::compileTemplate()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>String</td><td><em><p>Query template identifier, used in templates object hash</p></em></td></tr><tr><th>$tokens</th><td>\{Object}</td><td><em><p>Values to replace the tokens with</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>The compiled template</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::connected()" class="anchor"></a><a name="method-anchor-connected" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">connected</span><span class="nb-faded-text">()</span> : Boolean</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns current connection status</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::connected()">\aIPM_db_engine::connected()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::connected()">\IPM_db_engine::connected()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True if connected</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::create()" class="anchor"></a><a name="method-anchor-create" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">create</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Create a table in the database by generating a safe query using provided
parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::create()">\IPM_db_engine::create()</a></small></div><div class="code-tabs"><div class="long-description"><p>Note: table engine instances cannot specifiy table</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>An array of table configuration to build the query.
The following are valid</p>

<ul>
<li><b>role</b> The type of table or role the table in the table will have
(system, content, modules), used in the naming of the table</li>
<li><b>primarykey</b> field to use as the primary key</li>
<li><b>fields</b> An array of field descriptions, each index should be an
array withhave the following:<ul>
<li><b>name</b> name of the field</li>
<li><b>type</b> valid database field type</li>
<li><b>length</b> the length of the field</li>
<li><b>null</b> (bool) is null</li>
<li><b>default</b> default value of the field</li>
<li><b>charset</b> character set</li>
<li><b>collate</b> collation</li>
<li><b>auto</b> auto increment field</li>
</ul>
</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::createEngine()" class="anchor"></a><a name="method-anchor-createEngine" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">createEngine</span><span class="nb-faded-text">(string $engine, string $tablename = "")</span> : void</code><div class="description"><p class="short_description">Creates a table engine instance
A table engine instance is an instance of this database class, with limited
functionality, that performs actions only on the table the engine is for</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$engine</th><td>string</td><td><em><p>Name of the engine</p></em></td></tr><tr><th>$tablename</th><td>string</td><td><em><p>Name of the table, used for creating a table constant</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::createTableStructureCache()" class="anchor"></a><a name="method-anchor-createTableStructureCache" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">createTableStructureCache</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Creates the table structure cache file</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>True if the file was created</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::delete()" class="anchor"></a><a name="method-anchor-delete" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">delete</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Delete a set of records from the database by generating a safe query using
provided parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::delete()">\IPM_db_engine::delete()</a></small></div><div class="code-tabs"><div class="long-description"><p>Note: table engine instances cannot specifiy table</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>where</b> An array of table fields/value pairs to use as the where clause</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The amount of affected rows or the compiled query.</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::eXquery()" class="anchor"></a><a name="method-anchor-eXquery" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">eXquery</span><span class="nb-faded-text">(String $refid, String $query, Mixed $tokens = false, <a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a> $callback = false,  $params = false)</span> : mixed</code><div class="description"><p class="short_description">Submits an SQL statement to the database and keeps a reference to the
query's postion within the history array
<p>Note: Not permitted on table engine instances</p></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>Reference ID used to retrieve the results</p></em></td></tr><tr><th>$query</th><td>String</td><td><em><p>Query to execute</p></em></td></tr><tr><th>$tokens</th><td>Mixed</td><td><em><p>Values to replace the tokens with or custom callback
function, see the <u>$callback</u> parameter for detauls on closures.  If
a closure is passed instead of a token array, the <u>$callback</u> parameter
will not be processed.</p>
</em></td></tr><tr><th>$callback</th><td><a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a></td><td><em><p>Custom callback function.  Callbacks are passed
the following parameters:</p>

<ul>
<li><b>results</b> An array containing the results of the query</li>
<li><b>query</b> An object containing the defaults of the query</li>
</ul>
</em></td></tr><tr><th>$params</th><td></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Array of the result set or the return of a passed callback</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::eXresreset()" class="anchor"></a><a name="method-anchor-eXresreset" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">eXresreset</span><span class="nb-faded-text">(String $refid, Integer $pointer = 0)</span> : Boolean</code><div class="description"><p class="short_description">Resets pointer back to specified point of the query in the position of the
history array specified by the given reference id</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>Reference ID used to retrieve the results</p></em></td></tr><tr><th>$pointer</th><td>Integer</td><td><em><p>(Optional) Position in the result set to reset to, defaults to 0</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True on success</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::eXresults()" class="anchor"></a><a name="method-anchor-eXresults" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">eXresults</span><span class="nb-faded-text">(String $refid, string $type = "resource")</span> : mixed</code><div class="description"><p class="short_description">Returns the results of the SQL statement in the history postion identified
by the given <i>$refid</i>
<p>Note: table engine instances cannot return the MySQL result resource,
only the result array is allowed to be retrieved</p></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>Reference ID used to retrieve the results</p></em></td></tr><tr><th>$type</th><td>string</td><td><em><p>(Optional) Type of results to return (array or resource),
defaults to resource</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>MySQL result resource or array</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::eXrowcount()" class="anchor"></a><a name="method-anchor-eXrowcount" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">eXrowcount</span><span class="nb-faded-text">(String $refid)</span> : Integer</code><div class="description"><p class="short_description">Returns the count of rows for the query at the position of the history
array specified by the given reference ID</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>Reference ID used to retrieve the results</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Integer</td><td>The row count</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::errno()" class="anchor"></a><a name="method-anchor-errno" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">errno</span><span class="nb-faded-text">()</span> : int</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the error code generated for the last executed query</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::errno()">\aIPM_db_engine::errno()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::errno()">\IPM_db_engine::errno()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>Error code, 0 if no error</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::error()" class="anchor"></a><a name="method-anchor-error" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">error</span><span class="nb-faded-text">()</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the error generated for the last executed query</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::error()">\aIPM_db_engine::error()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::error()">\IPM_db_engine::error()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>Error string or false</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getDefaults()" class="anchor"></a><a name="method-anchor-getDefaults" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getDefaults</span><span class="nb-faded-text">( $option = "")</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the default table creatoin values as an object</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getDefaults()">\aIPM_db_engine::getDefaults()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getDefaults()">\IPM_db_engine::getDefaults()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$option</th><td></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Requested value or default value object</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Params</dt><dd>string $option (Optional) Returns the value for the specified option,
if empty will return all default values
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::getHistory()" class="anchor"></a><a name="method-anchor-getHistory" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getHistory</span><span class="nb-faded-text">(String $refid = "")</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the query history</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getHistory()">\aIPM_db_engine::getHistory()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getHistory()">\IPM_db_engine::getHistory()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>(Optional) Reference to the query in the query history,
if not supplied then the entire query history will be returned</p>
</em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getLastQuery()" class="anchor"></a><a name="method-anchor-getLastQuery" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getLastQuery</span><span class="nb-faded-text">( $refid = "")</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description"></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getLastQuery()">\aIPM_db_engine::getLastQuery()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getLastQuery()">\IPM_db_engine::getLastQuery()</a></small></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getQuery()" class="anchor"></a><a name="method-anchor-getQuery" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getQuery</span><span class="nb-faded-text">(String $refid = "")</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the last query executed</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getQuery()">\aIPM_db_engine::getQuery()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getQuery()">\IPM_db_engine::getQuery()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$refid</th><td>String</td><td><em><p>(Optional) Reference to the query in the query history</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>The last query executed</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getStructure()" class="anchor"></a><a name="method-anchor-getStructure" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getStructure</span><span class="nb-faded-text">(string $table = "")</span> : array</code><div class="description"><p class="short_description">Returns the structure of a table</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$table</th><td>string</td><td><em><p>(Optional) The name of the table</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>An array with table structure, if a table name is not provided,
all table structures will be returned.</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getTableConfig()" class="anchor"></a><a name="method-anchor-getTableConfig" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getTableConfig</span><span class="nb-faded-text">()</span> : array</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Return the table configuration if this class is instantiated as a table engine</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getTableConfig()">\aIPM_db_engine::getTableConfig()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getTableConfig()">\IPM_db_engine::getTableConfig()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getTemplateCallback()" class="anchor"></a><a name="method-anchor-getTemplateCallback" class="anchor"></a><div class="method private inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">getTemplateCallback</span><span class="nb-faded-text">(string $name)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Alias of <i>hasCallback</i></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getTemplateCallback()">\IPM_db_engine::getTemplateCallback()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>string</td><td><em><p>The name of the template</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getdb()" class="anchor"></a><a name="method-anchor-getdb" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getdb</span><span class="nb-faded-text">()</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the name of the current active database</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::getdb()">\aIPM_db_engine::getdb()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::getdb()">\IPM_db_engine::getdb()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>Database name, false if a database is not selected</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::getlastID()" class="anchor"></a><a name="method-anchor-getlastID" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getlastID</span><span class="nb-faded-text">()</span> : Integer</code><div class="description"><p class="short_description">Alias of <i>insert_id</i>, deprecated use <i>$insert_id</i> property instead</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Integer</td><td>Insert ID</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>use <i>$insert_id</i> property instead
         
    </dd><dt>Legacy</dt><dd>
         
    </dd><dt>See</dt><dd>\$insert_id
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::hasCallback()" class="anchor"></a><a name="method-anchor-hasCallback" class="anchor"></a><div class="method private inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">hasCallback</span><span class="nb-faded-text">(string $name)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the callback from a named template</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::hasCallback()">\IPM_db_engine::hasCallback()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>string</td><td><em><p>The name of the template</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::insert()" class="anchor"></a><a name="method-anchor-insert" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">insert</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Insert a record into the database by generating a safe query using provided
parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::insert()">\IPM_db_engine::insert()</a></small></div><div class="code-tabs"><div class="long-description"><p>Note: table engine instances cannot specifiy table</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> (Optional) An array of table fields/value pairs to update the record with, defaults to "*"</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The ID of the insert statement if the table has an auto
incremeted field or the compiled query.</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::insert_id()" class="anchor"></a><a name="method-anchor-insert_id" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">insert_id</span><span class="nb-faded-text">()</span> : Integer</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the auto incremeted ID generated by the last insert query</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::insert_id()">\aIPM_db_engine::insert_id()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::insert_id()">\IPM_db_engine::insert_id()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Integer</td><td>Insert ID</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::isRegistered()" class="anchor"></a><a name="method-anchor-isRegistered" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isRegistered</span><span class="nb-faded-text">(string $name, string $type = "table")</span> : bool</code><div class="description"><p class="short_description">Determine if a table is already registered</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>string</td><td><em><p>Name of the table, registered name or database table name</p></em></td></tr><tr><th>$type</th><td>string</td><td><em><p>(Optional) does nothing</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>True if the table is registered</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Todo</dt><dd>Either impliment table param or remove it
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::isTemplate()" class="anchor"></a><a name="method-anchor-isTemplate" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isTemplate</span><span class="nb-faded-text">(String $name)</span> : Boolean</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Determine if the named value is a registered template
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::isTemplate()">\IPM_db_engine::isTemplate()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>String</td><td><em><p>Query template identifier, used in templates object hash</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True if the name is defined in the templates object hash</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::lasterror()" class="anchor"></a><a name="method-anchor-lasterror" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">lasterror</span><span class="nb-faded-text">()</span> : int</code><div class="description"><p class="short_description">Alias of <i>error()</i>, deprecated use <i>$error</i> property instead</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>Error code, 0 if no error</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>use <i>$error</i> property instead
         
    </dd><dt>Legacy</dt><dd>
         
    </dd><dt>See</dt><dd>\$error
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::loadPlugin()" class="anchor"></a><a name="method-anchor-loadPlugin" class="anchor"></a><div class="method protected inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">loadPlugin</span><span class="nb-faded-text">(string $plugin, string $path = "")</span> : bool</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Loads a database plugin.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::loadPlugin()">\aIPM_db_engine::loadPlugin()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::loadPlugin()">\IPM_db_engine::loadPlugin()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$plugin</th><td>string</td><td><em><p>Name of the database plugin</p></em></td></tr><tr><th>$path</th><td>string</td><td><em><p>(Optional) Path to the database plugin class file</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>True if the plugin was loaded successfully, false on failure</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::loadRegistration()" class="anchor"></a><a name="method-anchor-loadRegistration" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">loadRegistration</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Loads the table registration.</p></div><div class="code-tabs"><div class="long-description"><p>All tables are given a table engine
instance</p></div></div><div class="clear"></div></div><a id="\IPM_db::loadTableStructure()" class="anchor"></a><a name="method-anchor-loadTableStructure" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">loadTableStructure</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Loads the table structure cache into the dbTables array</p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\IPM_db::num_rows()" class="anchor"></a><a name="method-anchor-num_rows" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">num_rows</span><span class="nb-faded-text">()</span> : int</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the number of rows for the last run select statement</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::num_rows()">\aIPM_db_engine::num_rows()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::num_rows()">\IPM_db_engine::num_rows()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The count</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::open()" class="anchor"></a><a name="method-anchor-open" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">open</span><span class="nb-faded-text">(String $user, String $pass, String $host, String $database = "")</span> : Boolean</code><div class="description"><p class="short_description">Opens/creates a connection to the database
<p>Note: Not permitted on table engine instances</p></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$user</th><td>String</td><td><em><p>User name</p></em></td></tr><tr><th>$pass</th><td>String</td><td><em><p>Password</p></em></td></tr><tr><th>$host</th><td>String</td><td><em><p>Server host name/IP</p>
</em></td></tr><tr><th>$database</th><td>String</td><td><em><p>(Optional) Database</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True is connection created</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::query()" class="anchor"></a><a name="method-anchor-query" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">query</span><span class="nb-faded-text">(String $query, Mixed $tokens = false, <a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a> $closure = false, mixed $closureParams = false)</span> : mixed</code><div class="description"><p class="short_description">Submits an SQL statement to the database
<p>Note: Not permitted on table engine instances</p></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$query</th><td>String</td><td><em><p>Query to execute</p></em></td></tr><tr><th>$tokens</th><td>Mixed</td><td><em><p>Values to replace the tokens with or custom callback
function, see the <u>$callback</u> parameter for detauls on closures.  If
a closure is passed instead of a token array, the <u>$callback</u> parameter
will not be processed.</p>
</em></td></tr><tr><th>$closure</th><td><a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a></td><td><em><p>Custom callback function.  Callbacks are passed
the following parameters:</p>

<ul>
<li><b>results</b> An array containing the results of the query</li>
<li><b>query</b> An object containing the defaults of the query</li>
</ul>
</em></td></tr><tr><th>$closureParams</th><td>mixed</td><td><em><p>(Optional) A parameter to pass into the callback.
Note: parameter pass by reference.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Array of the result set or the return of a passed callback</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::real_escape_string()" class="anchor"></a><a name="method-anchor-real_escape_string" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">real_escape_string</span><span class="nb-faded-text">(String $var)</span> : String</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Escapes the variable to make it safe to use in a query</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::real_escape_string()">\aIPM_db_engine::real_escape_string()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::real_escape_string()">\IPM_db_engine::real_escape_string()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td>String</td><td><em><p>The variable to escape</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>String</td><td>The escaped string</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::register()" class="anchor"></a><a name="method-anchor-register" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">register</span><span class="nb-faded-text">(string $engine, string $table, string $query = false)</span> : void</code><div class="description"><p class="short_description">Registers a table with the system</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$engine</th><td>string</td><td><em><p>Name of the table referenced, use as the engine name and table name constant</p></em></td></tr><tr><th>$table</th><td>string</td><td><em><p>Name of the table as it appears in the database</p></em></td></tr><tr><th>$query</th><td>string</td><td><em><p>Table creation query, if specified, will execute the query to attempt to create a new table</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Todo</dt><dd>Add functionality for creating the new table
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::reset()" class="anchor"></a><a name="method-anchor-reset" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">reset</span><span class="nb-faded-text">(Integer $pointer = 0)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Resets the pointer in the MySQL result set</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::reset()">\aIPM_db_engine::reset()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::reset()">\IPM_db_engine::reset()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$pointer</th><td>Integer</td><td><em><p>(Optional) Position in the result set to reset to, defaults to 0</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>True on success, MySQL error number on failure</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::resetPlugin()" class="anchor"></a><a name="method-anchor-resetPlugin" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">resetPlugin</span><span class="nb-faded-text">()</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Resets the database plugin to the default plugin type</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::resetPlugin()">\aIPM_db_engine::resetPlugin()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::resetPlugin()">\IPM_db_engine::resetPlugin()</a></small></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\IPM_db::resreset()" class="anchor"></a><a name="method-anchor-resreset" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">resreset</span><span class="nb-faded-text">(Integer $pointer = 0)</span> : mixed</code><div class="description"><p class="short_description">Alias of <i>reset()</i>, deprecated use <i>reset()</i> instead</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$pointer</th><td>Integer</td><td><em><p>(Optional) Position in the result set to reset to, defaults to 0</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>True on success, MySQL error number on failure</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>use <i>reset()</i> instead
         
    </dd><dt>Legacy</dt><dd>
         
    </dd><dt>See</dt><dd>\reset()
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::result()" class="anchor"></a><a name="method-anchor-result" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">result</span><span class="nb-faded-text">(Integer $row, mixed $field = 0)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Returns the current result set for the last successfully run sql statement</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::result()">\aIPM_db_engine::result()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::result()">\IPM_db_engine::result()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$row</th><td>Integer</td><td><em><p>Row to move the pointer to</p></em></td></tr><tr><th>$field</th><td>mixed</td><td><em><p>(Optional) Field to get the data from, defaults to 0 or the first field</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Contents of specified field or false on failure</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::results()" class="anchor"></a><a name="method-anchor-results" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">results</span><span class="nb-faded-text">(string $type = "resource")</span> : mixed</code><div class="description"><p class="short_description">Returns the results of the last successfully executed SQL statement
<p>Note: table engine instances cannot return the MySQL result resource,
only the result array is allowed to be retrieved</p></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$type</th><td>string</td><td><em><p>(Optional) Type of results to return (array or resource),
defaults to resource</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>MySQL result resource or array</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::rowcount()" class="anchor"></a><a name="method-anchor-rowcount" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">rowcount</span><span class="nb-faded-text">()</span> : int</code><div class="description"><p class="short_description">Alias of <i>num_rows()</i>, deprecated use <i>$num_rows</i> property instead</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The count</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>use <i>$num_rows</i> property instead
         
    </dd><dt>Legacy</dt><dd>
         
    </dd><dt>See</dt><dd>\$num_rows
         
    </dd></dl></div><div class="clear"></div></div><a id="\IPM_db::runQueue()" class="anchor"></a><a name="method-anchor-runQueue" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">runQueue</span><span class="nb-faded-text">(<a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a> $callback = false)</span> : Array</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Executes all queries in the queue.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::runQueue()">\IPM_db_engine::runQueue()</a></small></div><div class="code-tabs"><div class="long-description"><p>Any values returned by a query will be passed as tokens to
the next executing query.  Each time data is returned, it is merged into the tokens from the previous
query before passed to the next.  In this way, all values can be passed instead of just the last.<br><br>
Note: Not permitted on table engine instances</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$callback</th><td><a href="../files/http://php.net/manual/en/class.closure.php">\Closure</a></td><td><em><p>(Optional) Function to execute once all queries in the queue have been executed.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Array</td><td>Returns an array containing the result of the final query in the queue, or the
result of the callback.</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::select()" class="anchor"></a><a name="method-anchor-select" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">select</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Select records from the database by generating a safe query using provided
parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::select()">\IPM_db_engine::select()</a></small></div><div class="code-tabs"><div class="long-description"><p>Note: table engine instances cannot specifiy table</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> (Optional) An array of table fields/value pairs to update the record with, defaults to "*"</li>
<li><b>where</b> (Optional) An array of table fields/value pairs to use as the where clause</li>
<li><b>options</b> (Optional) An array with various options for the query.  As follows<ul>
<li><b>order</b> The field to order by or an array containing the <u>fields</u> and <u>dir</u>ection to sort</li>
<li><b>limit</b> The number of records to query or an array containing the <u>start</u> and <u>length</u></li>
<li><b>group</b> The field to group by</li>
</ul></li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The result array from the executed query or the compiled query</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::setDefaults()" class="anchor"></a><a name="method-anchor-setDefaults" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setDefaults</span><span class="nb-faded-text">(mixed $defaults)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Sets the default table creation values</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::setDefaults()">\aIPM_db_engine::setDefaults()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::setDefaults()">\IPM_db_engine::setDefaults()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$defaults</th><td>mixed</td><td><em><p>Defaults object, could also be an array</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::setPlugin()" class="anchor"></a><a name="method-anchor-setPlugin" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setPlugin</span><span class="nb-faded-text">(string $plugin)</span> : bool</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Loads a database plugin.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::setPlugin()">\aIPM_db_engine::setPlugin()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::setPlugin()">\IPM_db_engine::setPlugin()</a></small></div><div class="code-tabs"><div class="long-description"><p>Ensures that it doesn't reload the currently
loaded plugin</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$plugin</th><td>string</td><td><em><p>Name of the database plugin</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>True if the plugin was loaded successfully, false on failure</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::setTableConfig()" class="anchor"></a><a name="method-anchor-setTableConfig" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setTableConfig</span><span class="nb-faded-text">(array $config)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Sets table configuration.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::setTableConfig()">\aIPM_db_engine::setTableConfig()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::setTableConfig()">\IPM_db_engine::setTableConfig()</a></small></div><div class="code-tabs"><div class="long-description"><p>This determines if the instance of this class
will be used as a table engine.  Database engines have restricted
functionality</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$config</th><td>array</td><td><em><p>Table config array</p></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::setdb()" class="anchor"></a><a name="method-anchor-setdb" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setdb</span><span class="nb-faded-text">(String $db)</span> : Boolean</code><div class="description"><p class="short_description">Sets the current database as active, loads table defaults, and loads
table registeration</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$db</th><td>String</td><td><em><p>Database name</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True on success</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::setvar()" class="anchor"></a><a name="method-anchor-setvar" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setvar</span><span class="nb-faded-text">( $variable, String $value)</span> : Boolean</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Sets session variables for current database connection
<p>Note: Not permitted on table engine instances</p></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::setvar()">\IPM_db_engine::setvar()</a></small></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$variable</th><td></td><td><em></em></td></tr><tr><th>$value</th><td>String</td><td><em><p>Value to assign to the session variable</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>True on success</td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::toggleHistory()" class="anchor"></a><a name="method-anchor-toggleHistory" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">toggleHistory</span><span class="nb-faded-text">( $set = 0)</span> : void</code><div class="description"><span class="attribute">inherited</span><p class="short_description"></p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.basic.html#\aIPM_db_engine::toggleHistory()">\aIPM_db_engine::toggleHistory()</a><a href="../files/ipm.class.db.engine.html#\IPM_db_engine::toggleHistory()">\IPM_db_engine::toggleHistory()</a></small></div><div class="code-tabs"><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$set</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\IPM_db::update()" class="anchor"></a><a name="method-anchor-update" class="anchor"></a><div class="method public inherited_from "><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">update</span><span class="nb-faded-text">(array $params, bool $returnQuery = false)</span> : mixed</code><div class="description"><span class="attribute">inherited</span><p class="short_description">Update a record in the database by generating a safe query using provided
parameter array.</p><small class="inherited_from">Inherited from:
                    <a href="../files/ipm.class.db.engine.html#\IPM_db_engine::update()">\IPM_db_engine::update()</a></small></div><div class="code-tabs"><div class="long-description"><p>Note: table engine instances cannot specifiy table</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>A configuration array containing the following
parameters:</p>

<ul>
<li><b>table</b> The table to perform the query on</li>
<li><b>fields</b> An array of table fields/value pairs to update the record with, defaults to "*"</li>
<li><b>where</b> (Optional) An array of table fields/value pairs to use as the where clause</li>
</ul>
</em></td></tr><tr><th>$returnQuery</th><td>bool</td><td><em><p>Set to True to return the compiled query without
executing it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The amount of affected rows or the compiled query.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer"></small></body></html>
